(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{126:function(t,s,a){"use strict";a.r(s);var n=[function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"content"},[n("h1",{attrs:{id:"guns-lite代码生成工具"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#guns-lite代码生成工具","aria-hidden":"true"}},[t._v("#")]),t._v(" guns-lite代码生成工具")]),t._v(" "),n("h2",{attrs:{id:"使用方法"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#使用方法","aria-hidden":"true"}},[t._v("#")]),t._v(" 使用方法")]),t._v(" "),n("ul",[n("li",[t._v("准备工作")])]),t._v(" "),n("div",{staticClass:"language-shell extra-class"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[t._v("\n-- 克隆本项目\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" clone https://github.com/enilu/sbvue-coder.git\n\n-- 安装到本地仓库\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("cd")]),t._v(" sbvue-coder\nmvn "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v("\n\n--在guns-lite的guns-entity的pom.xml文件中添加依赖：guns-lite/guns-entity/pom.xml\n\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("dependency"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("groupId"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("cn.enilu"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/groupId"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("artifactId"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("sbvue-coder"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/artifactId"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("version"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("1.0"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/version"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/dependency"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),n("ul",[n("li",[n("p",[t._v("在Intellij IDEA中新建一个Run Config，如下图所示\n"),n("img",{attrs:{src:a(62),alt:"run config"}})]),t._v(" "),n("ul",[n("li",[t._v("上图三个配置分别为\n"),n("ul",[n("li",[t._v("1，运行的代码生成主类")]),t._v(" "),n("li",[t._v("2，代码生成参数,详见下面说明")]),t._v(" "),n("li",[t._v("3，在哪个模块中执行代码生成：guns-entity，因为代码生成是通过读取guns-entity中的实体类的注解实现，所以这里选择guns-entity")])])])])]),t._v(" "),n("li",[n("p",[t._v("新建配置文件：guns-entity/src/main/resources/code/code.json,配置文件内容如下，下面内容指定了生成的相关代码分别放在哪个模块下，考虑到有的同学可能会更改项目名和模块名，增加该配置，开发人员可以自行配置模块名")])])]),t._v(" "),n("div",{staticClass:"language-json extra-class"},[n("pre",{pre:!0,attrs:{class:"language-json"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"codeConfig"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"type"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"cn.enilu.sbvue.code.CodeConfig"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"fields"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      entityModel"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"guns-entity"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      daoModel"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"guns-dao"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      serviceModel"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"guns-service"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      controllerModel"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"guns-api"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      viewModel"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"guns-admin-vuejs"')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("h2",{attrs:{id:"代码生成参数"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#代码生成参数","aria-hidden":"true"}},[t._v("#")]),t._v(" 代码生成参数")]),t._v(" "),n("p",[t._v("执行生成的时候，在Program arguments配置为：-h 运行后将会输出下面参数帮助提示")]),t._v(" "),n("div",{staticClass:"language-shell extra-class"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[t._v("usage: Generator "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("options"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("all"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("entity"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("service")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("controller"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("view"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n -f,--force               force generate "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),t._v(" even "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),t._v(" exists\n -h,--help                show "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("help")]),t._v(" message\n -i,--include "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("arg"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("       include table pattern\n -module,--module "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("arg"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("   current module name\n -p,--package "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("arg"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("       base package name,default:cn.enilu.guns\n -u,--base-uri "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("arg"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("      base uri prefix, default is /\n -x,--exclude "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("arg"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("       exclude table pattern\n")])])]),n("p",[t._v("比如在Program arguments配置 -mudule test 将会根据guns-entity/src/main/java/cn/enilu/guns/bean/entity/test/目录下所有的java类生成其CRUD相关代码")]),t._v(" "),n("p",[t._v("如果程序运行参数更改为 -mudule test -i t_test_boy 将会根据上述目录下的Boy实体生成其相关CRUD代码，注意这里-i 后面的参数值是实体中配置的表名称，而不是实体名本身。")]),t._v(" "),n("p",[t._v("测试实体Boy内容如下")]),t._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("package")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("cn"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("enilu"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("guns"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("bean"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("entity"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("test")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("cn"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("enilu"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("guns"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("bean"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("entity")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BaseEntity")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" lombok"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Data")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("org"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("hibernate"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("annotations")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Table")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("javax"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("persistence")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Column")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("javax"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("persistence")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Entity")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Entity")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("name"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"t_test_boy"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Table")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("appliesTo "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"t_test_boy"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("comment "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"男孩"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Data")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Boy")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BaseEntity")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Column")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("columnDefinition "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("\"VARCHAR(32) COMMENT '姓名'\"")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Column")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("columnDefinition "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("\"INT COMMENT '年龄'\"")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Integer")]),t._v(" age"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Column")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("columnDefinition "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("\"VARCHAR(12) COMMENT '生日'\"")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" birthday"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Column")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("name "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"has_girl_friend"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("columnDefinition "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("\"TINYINT COMMENT '是否有女朋友'\"")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Boolean")]),t._v(" hasGirFriend"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("注意如果要根据实体生成代码,实体中的@Table注解要配置为@org.hibernate.annotations.Table而不是能配置为：@javax.persistence.Table,因为前者可以配置注释comment")]),t._v(" "),n("p",[t._v("以Boy实体为例,执行代码生成后将会生成如下文件：\n"),n("img",{attrs:{src:a(63),alt:"run code_add"}})]),t._v(" "),n("p",[t._v("代码生成后，在guns-admin-vuejs的路由配置文件中guns-admin-vuejs/src/store/modules/permission.js，增加如下红框内容：")]),t._v(" "),n("p",[n("img",{attrs:{src:a(64),alt:"run router"}})]),t._v(" "),n("p",[t._v("启动guns-api和guns-admin-vuejs,配置和菜单和角色权限后就可以访问刚刚生成的代码功能了\n"),n("img",{attrs:{src:a(65),alt:"run code_result"}})])])}],e=a(0),r=Object(e.a)({},function(){this.$createElement;this._self._c;return this._m(0)},n,!1,null,null,null);s.default=r.exports},62:function(t,s,a){t.exports=a.p+"assets/img/run_config.32dd8c7c.jpg"},63:function(t,s,a){t.exports=a.p+"assets/img/code_add.422c499b.jpg"},64:function(t,s,a){t.exports=a.p+"assets/img/router.b2f978be.jpg"},65:function(t,s,a){t.exports=a.p+"assets/img/code_result.c2421f6c.jpg"}}]);